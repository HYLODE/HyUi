# Deployment


### Setup environment

- Clone the repository on an NHS server `git clone https://github.com/HYLODE/HyUi.git`.
- Configure your `.env` variables using `.env.example` as a template.
- Configure `docker/initialise/.env` variables using `docker/initialise/.env.example.`

### Run the Docker Compose services

In the `code` directory:

```sh
docker compose --project-name [project name] up --build
```

Ensure that you use a unique name for your `[project name]`. The production service should be named `hyui-prod`.

### Initialise services

This should be done the first time you stand up the services. It populates the Baserow database with the tables and static data required to run the rest of the HyUi services. You will also need to do this when you update your configuration (loading) data for Baserow. That is, you should consider Baserow as a temporary scratch pad, and mapping changes etc. will live in code (see `initialise/src/initialise/bed_defaults.json`). Before you 'redeploy', you must manually delete the tables from Baserow.


```sh
./bin/initialise.sh --operation baserow
```

### Stop And Remove Docker Containers

```sh
docker compose --project-name [project name] down
```
